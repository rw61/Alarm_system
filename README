Привет. 
Железо: 1. Nucleo F411RE 2. монтажная плата 3. 6 кнопок 4. 2 светодиода
Промежуточная схема работы: 
нажимаем на PB1 или PB2 - загорается PA5, 
нажимаем PB4+PB10+PC13 - гасим PA5, 
нажимаем любую другую комбинацию кнопок , при горящей PA5 - загорается PB8,
нажимаем PB4+PC13 - гасим PB8,
любая другая комбинация кнопок - включает счётчик wrong_deactivation_attempts, который, досчитав до 5(пять неверных комбинаций), включает блокировку PB9

Что не получается? 
Прошу подсказку в плане алгоритма со счетчиком неправильных нажатий. Если ставлю if(wrong_deactivation_attemts < 5), лампа блокировки PB9
включается при первой же неправильной комбинации. Если выставляю if(wrong_deactivation_attemts < 10000), то PB9 загорается с 4 попытки.
Понимаю , что тут все завязано с тактами и счетчик wrong_deactivation_attemts плюсуется при каждом такте, например за одно нажатие "неправильной"
кнопки, может произойти 3000 тактов. Помогите, пожалйста разрулить. 

пс. уровень 0+


